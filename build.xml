<project >
    <target name="clean">
            <delete dir="build"/>
    </target>

    <target name="compile">
        <mkdir dir="build"/>
        <mkdir dir="build/classes"/>
        <javac srcdir="src" destdir="build/classes" includeantruntime="false"/>
    </target>

    <target name="compileTest" depends="compile">
        <mkdir dir="build/testClasses"/>
        <javac srcdir="Test" destdir="build/testClasses" classpath="build/classes;dependencies/junit-4.10.jar" includeantruntime="false"/>
    </target>

    <target name="test" depends="compileTest">
        <java classname="org.junit.runner.JUnitCore" classpath="build/classes;build/testClasses;dependencies/junit-4.10.jar">
            <arg value="prateekj.unixtools.cut.CutOperationsTest"/>
            <arg value="prateekj.unixtools.head.OperationsOfHeadTest"/>
            <arg value="prateekj.unixtools.reduceSpaces.ReduceSpaceTest"/>
            <arg value="prateekj.unixtools.sort.SortOperationTest"/>
            <arg value="prateekj.unixtools.tail.TailOperationTest"/>
            <arg value="prateekj.unixtools.uniq.UniqOperationsTest"/>
            <arg value="prateekj.unixtools.wc.OperationsTest"/>
        </java>
    </target>



    <target name="createJar" depends="compile">
        <mkdir dir="unix-tools"/>
        <mkdir dir="unix-tools/lib"/>
        <jar destfile="unix-tools/lib/unix-tools.jar" basedir="classes"/>
    </target>

    <target name="createDocumentation">
        <mkdir dir="unix-tools"/>
        <mkdir dir="unix-tools/docs"/>
        <javadoc packageNames="prateekj.unixtools.*"
                 sourcepath="src" destdir="unix-tools/docs" windowtitle="UNIX TOOLS API"/>
    </target>

    <target name="createZip" depends="createJar,createDocumentation">
        <mkdir dir="unix-tools/bin"/>
        <copy todir="unix-tools/bin">
            <fileset dir="Shells" excludes="Shells/*.sh"/>
        </copy>
        <copy todir="unix-tools" file="README.md"/>
        <zip destfile="unix-tools.zip" basedir="unix-tools"/>
        <delete dir="classes"/>
        <delete dir="unix-tools"/>
    </target>
</project>